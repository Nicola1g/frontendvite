@import "tailwindcss";
/* Plugin ufficiale Tailwind Forms (v4) */
@plugin "@tailwindcss/forms";

/*Variabili*/
:root {
    /* Spinge più in basso il fondo pagina se serve */
    --page-extra: 340px;
}

/* BASE (dark theme + elementi HTML) */
@layer base {
    :root { color-scheme: dark; }
    html  { @apply h-full; }
    body  { @apply min-h-screen bg-slate-900 text-slate-100 antialiased; }

    a     { @apply text-sky-400 hover:text-sky-300; }
    nav a { @apply text-slate-300 hover:text-slate-100; }

    label  { @apply text-sm text-slate-300 space-y-1; display: grid; }
    input, select, textarea {
        @apply bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-100 placeholder-slate-500;
    }
    textarea { @apply min-h-[120px]; }

    button {
        @apply inline-flex items-center gap-2 rounded-lg border border-slate-700 bg-slate-800 px-3 py-2
        text-slate-100 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed;
    }

    /* Focus/contrast migliori nei form */
    form input, form select, form textarea {
        @apply text-slate-100 placeholder-slate-400 bg-slate-900 border-slate-700
        focus:ring-1 focus:ring-sky-700 focus:border-sky-700;
    }
    form label, form label span { @apply text-slate-200; }

    /* Password alto contrasto */
    input[type="password"] {
        @apply bg-slate-900 text-slate-100 placeholder-slate-400 border-slate-700
        focus:ring-1 focus:ring-sky-700 focus:border-sky-700;
    }

    /* Fix autofill (Chrome/Edge) su dark */
    input:-webkit-autofill,
    textarea:-webkit-autofill,
    select:-webkit-autofill {
        -webkit-text-fill-color: #e5e7eb;               /* slate-200 */
        -webkit-box-shadow: 0 0 0px 1000px #0b1220 inset;
        transition: background-color 9999s ease-out 0s;
    }
    input[type="password"]:-webkit-autofill {
        -webkit-text-fill-color: #e5e7eb;
        -webkit-box-shadow: 0 0 0px 1000px #0b1220 inset;
    }

    /* Search reset */
    input[type="search"] { -webkit-appearance: none; appearance: none; }
    input[type="search"]::placeholder,
    input[type="search"]::-webkit-input-placeholder { color: #9ca3af; }
    input[type="search"]::-webkit-search-cancel-button,
    input[type="search"]::-webkit-search-decoration,
    input[type="search"]::-webkit-search-results-button,
    input[type="search"]::-webkit-search-results-decoration {
        filter: invert(1) opacity(0.7);
    }
}


@layer components {
    /* Contenitore globale uniforme */
    .app-shell { @apply mx-auto max-w-7xl px-4 md:px-8 py-6; }

    /* Griglie di layout (attenzione: qui .grid è una “scorciatoia” comoda) */
    .grid   { @apply grid gap-6; }
    .grid-2 { @apply grid md:grid-cols-2 gap-6; }
    .space-between { @apply flex items-center justify-between gap-3; }

    /* Tipografia rapida */
    .small { @apply text-sm text-slate-400; }
    .big   { @apply text-base md:text-lg font-medium; }

    /* Card generiche */
    .card         { @apply rounded-2xl border border-slate-800 bg-slate-900/60 p-5 shadow; }
    .card-scroll  { @apply rounded-2xl border border-slate-800 bg-slate-900/60 overflow-hidden; }
    .card-header  { @apply px-5 py-4 border-b border-slate-800 flex items-center justify-between gap-3; }
    .card-body    { @apply p-5 overflow-auto; max-height: 70vh; }

    /* Sezioni a blocco (header/body) – usate per liste con scroll */
    .section      { @apply rounded-2xl border border-slate-800 bg-slate-900/60 overflow-hidden; }
    .section-header { @apply px-5 py-4 border-b border-slate-800 bg-slate-900/70 backdrop-blur; }
    .section-body { @apply p-5; }

    /* Badge/Chip/Bottoni/Inputs coerenti */
    .badge { @apply inline-flex items-center rounded-full border border-slate-700 bg-slate-800/60 px-2 py-0.5 text-xs text-slate-200; }
    .chip  { @apply inline-flex items-center gap-2 rounded-full border border-slate-700 bg-slate-800/50 px-3 py-1 text-slate-200; }
    .btn   { @apply inline-flex items-center gap-2 rounded-xl border border-slate-700 bg-slate-800/60 px-3 py-1.5 text-sm text-slate-100 hover:bg-slate-800/80 disabled:opacity-50 disabled:cursor-not-allowed; }
    .btn-primary { @apply border-blue-500 bg-blue-600/90 hover:bg-blue-600 text-white; }
    .input-dark,
    .input-dark[type="text"],
    .input-dark[type="password"],
    .input-dark[type="search"] {
        @apply bg-slate-900 text-slate-100 placeholder-slate-400
        border border-slate-700 rounded-lg
        focus:ring-1 focus:ring-sky-700 focus:border-sky-700;
        background-color: #0b1220 !important;
        color: #e5e7eb !important;
    }

    /* Tabelle pulite (stile Welcome) */
    .table-clean { @apply w-full text-sm; }
    .th-clean    { @apply text-left font-medium text-slate-400; }
    .td-clean    { @apply py-2 pr-2; }
    .tr-sep      { @apply border-t border-slate-800/60; }

    /* Tabella classica (se serve ancora altrove) */
    .table { @apply w-full text-sm; }
    .table thead { @apply text-left text-slate-400; }
    .table th, .table td { @apply px-3 py-2 border-b border-slate-800 align-top; }

    /* Troncamenti multi–linea senza plugin */
    .clamp-2 { overflow: hidden; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }

    /* HEADER premium */
    .header-surface {
        @apply rounded-2xl border border-slate-800
        bg-gradient-to-r from-slate-950 via-slate-900 to-slate-950
        px-4 py-3 shadow-lg;
    }
    .h-left  { @apply flex items-center gap-3; }
    .h-right { @apply flex items-center gap-2; }
    .brand-btn { @apply text-lg font-semibold tracking-wide px-3 py-2 rounded-lg text-white hover:bg-slate-800/60 transition-colors; }
    .h-link  { @apply px-3 py-2 rounded-lg text-slate-300 hover:text-white hover:bg-slate-800/60 transition-colors; }
    .h-link--active { @apply text-white bg-sky-900/40 ring-1 ring-inset ring-sky-700; }
    .h-sep   { @apply hidden md:block w-px h-6 bg-slate-700/60 mx-1; }

    /* FOOTER premium */
    .footer-surface {
        @apply rounded-2xl border border-slate-800
        bg-gradient-to-r from-slate-950 via-slate-900 to-slate-950
        px-4 py-4 shadow-lg;
    }
    .footer-brand { @apply text-slate-200 font-semibold; }
    /* ⚠️ niente @apply small qui: usiamo utilità reali per evitare errori */
    .footer-meta  { @apply text-sm text-slate-400; }
    .chip-muted   { @apply text-slate-300; }
}
